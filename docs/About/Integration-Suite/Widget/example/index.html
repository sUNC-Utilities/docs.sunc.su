<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>sUNC Widget Example</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- this stylesheet is completely irrelevant to your implementation of the widget -->
    <link href="stylesheet.css" rel="stylesheet">
</head>

<body>

    <h1>sUNC Widget Example</h1>

    <iframe id="sunc-widget" src="https://sunc.rubis.app/widget/" allowfullscreen></iframe>

    <div class="button-row">
        <button onclick="loadScrap()">Load example test</button>
        <button onclick="loadScrap2()">Load second example test</button>

        <button onclick="setTheme()">Use custom theme, Creamy Light</button>
        <button onclick="setTheme2()">Use custom theme, Electric Yellow</button>
        <button onclick="setThemeDefault()">Use default theme</button>
    </div>

    <script>
        const iframe = document.getElementById("sunc-widget");

        function loadScrap() {
            iframe.contentWindow.postMessage({
                type: "sunc-widget:loadScrap",
                payload: {
                    scrapId: "766F7uirM9D9ZlAF",
                    key: "Hvj2XFk6nVJtJQQ9VtPoHoDpnxBDhesL"
                }
            }, "https://sunc.rubis.app");
        }

        function loadScrap2() {
            iframe.contentWindow.postMessage({
                type: "sunc-widget:loadScrap",
                payload: {
                    scrapId: "Rr4i4TNdBI69RE4J",
                    key: "j8C0LwCZM0hTYg2GuvYo1ZsoMfj16fB2"
                }
            }, "https://sunc.rubis.app");
        }

        function setTheme() {
            iframe.contentWindow.postMessage({
                type: "sunc-widget:setTheme",
                payload: {
                    dark: "#ecd3c4",
                    light: "#fbe9de",
                    lighter: "#ffe7da",

                    sunc: "#f5b4c3",
                    suncLighter: "#ffd3d3",

                    grey: "#b89b9b",
                    lightText: "#5f4c4c",

                    success: "#38a07a",
                    failure: "#ff6f69",
                }
            }, "https://sunc.rubis.app");
        }

        function setTheme2() {
            iframe.contentWindow.postMessage({
                type: "sunc-widget:setTheme",
                payload: {
                    dark: "#0f0f12",
                    light: "#1a1a20",
                    lighter: "#26262f",

                    sunc: "#ffe600",
                    suncLighter: "#fff36b",

                    grey: "#999999",
                    lightText: "#eeeeee",

                    success: "#4caf50",
                    failure: "#ff4b5c"
                }
            }, "https://sunc.rubis.app");
        }

        function setThemeDefault() {
            iframe.contentWindow.postMessage({
                type: "sunc-widget:setTheme",
                payload: {} // this works because the widget falls back to default colours if some fields are not provided
            }, "http://127.0.0.1:3002");
        }

    </script>

</body>

</html>